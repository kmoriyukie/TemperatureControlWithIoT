<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height,width=device-width, initial-scale=1">
    <title>Mock Up IoT</title>
    <style>
        @font-face {
            font-family: Bebas;
            src: url(BebasNeue-Regular.woff);
        }
        .ttl {
            font-family: Bebas;
            text-align: center;
            margin: 20px auto 5px;
            border-bottom:2px solid black;
        }
        .main{
            /* width:1000px; */
            display: flex;
            margin: 20px auto 5px;
        }
        /* .layers{
            display: flex;
            justify-content: space-between;
            border:2px solid black;
        } */
        .image{
            align-self: auto;
        }
        .info{
            margin-top: 15px;
            height: 120px;
            width: 165px;
            text-align: center;
        }
        .infos{
            display: flex;
            text-align: center;
            height: 80px;
            font-family: Bebas;
            padding: 5px;
            font-size: 30px;
        }
        .icon{
            padding: 5%;
        }
        .body{
            background-color: rgb(255, 247, 235);
        }
        .toolbar {
            display: flex;
            overflow: hidden;
            background-color: rgb(71, 71, 71);
            border-radius: 0.4cm;
        }

        .toolbar a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }
        .toolbar a:hover {
            background-color: #ddd;
            color: black;
        }
        .toolbar a:hover.selected {
            background-color: #ddd;
            color: black;
        }
        .toolbar a:hover.unselected {
            background-color: #ddd;
            color: black;
        }
        .toolbar a.selected {
            background-color: #13a5e9;
            color: white;
        }
        .toolbar a.unselected {
            background-color: rgb(71, 71, 71);
            color: #f2f2f2;
        }
        /* .toolbar a.default {
            background-color: #13a5e9;
            color: white;
        } */
        .leftbar{
            order: 0;
            float: left;
            background-color: #48c5b2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
            /* display: flex; */
            justify-content: space-between;
            height: 80vh;
            /* width: 50%; */
            border-radius: 0.4cm;
            
        }
        .home{
            order: 1;
        }
        .config{
            order: 1;
            display: none;
            width: 98%;
            height: 98%;
        }
        .switch {
            position: relative;
            display: inline-block;
            /* display: flex; */
            width: 60px;
            height: 34px;
        }

        .switch input { 
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            /* background-color: #ccc; */
            background-color: #2196F3;
            -webkit-transition: .4s;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }

        input:checked + .slider {
            
            background-color: rgb(255, 0, 0);
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        .cloudModeWidget{
            display: flex;
            align-items: center;
            text-align: center;
            margin: auto;
            width: 50%;
            flex-wrap: nowrap;
            flex-direction: row;
            justify-content: center;
            align-content: center;
        }
        .cloudModeWidget p{
            padding: 16px 16px;
        }
        .IdsList{
            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            align-content: center;
            justify-content: center;
            align-items: center;
            background-color: #a5a5a5;
            margin: 0px 10px;
            border-radius: 0.4cm;
        }
         .List_item{
            float: center;
            background-color: #ff0000;
            margin: 4px 10px;
            border-radius: 0.4cm;
        }

    </style>
    <script type="text/javascript" src="IDS_List.js"></script>
    <script type="text/javascript">
        function initialization(){
            // HomeMode();
            ConfigMode();
            document.getElementById("CloudModeSwitch").checked = GetMode();

            let list = new IDS_List;
            list.initialize();

        }
        window.onload = initialization;
    </script>
  </head>
  <body class="body">
    <div class="toolbar">
        <a class="selected" id="HomeBut" href="#" onclick="HomeMode()">Home</a>
        <a href="#" id="ConfigBut" onclick="ConfigMode()">Setup</a>
    </div>
    <div class="main">
        <div class="leftbar">
            <div class="icons">
                <div class="infos"><img src="cold.png" width="80" height="80" class="icon" ><div class="info"><u>TEMPERATURE</u><br>-10Â°C</div></div>
                <div class="infos"><img src="humidity.png" width="80" height="80" class="icon"><div class="info"><u>HUMIDITY</u><br>40%</div></div>
                <div class="infos"><img src="wind.png" width="80" height="80" class="icon"><div class="info"><u>WIND FLOW</u><br>1 m/s</div></div>  
            </div>
        </div>
        <div class="home" id="HOME">
            <div>
                <canvas id="mainCanvas" width="600" height="600" style="border:1px solid black;"></canvas>
            </div>
        </div>
        <div class="config" id="CONFIG">
    
            <div vertical-align=top>
                <div class="cloudModeWidget">
                    <p order=0>Working</p>
                    <label class="switch" order=1>
                        <input type="checkbox" checked id="CloudModeSwitch">
                        <span class="slider round"></span>
                    </label>
                    <p order=2>Setup</p>
                </div>
            </div>
            <div class="IdsList" id="ids_list">

            </div>
    
        </div>
    </div>
      <script src="https://threejs.org/build/three.js"></script>
      <script> //Tool Bar
          function ConfigMode(){
            document.getElementById('ConfigBut').className = 'selected';
            document.getElementById('HomeBut').className = 'unselected';
            document.getElementById("HOME").style.display = "none";
            document.getElementById("CONFIG").style.display = "block";
          }
          function HomeMode(){
            document.getElementById('ConfigBut').className = 'unselected';
            document.getElementById('HomeBut').className = 'selected';
            document.getElementById("HOME").style.display = "block";
            document.getElementById("CONFIG").style.display = "none";
          }
      </script> 
      <script> //Canvas
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera( 75, 1, 0.01, 10000 );

        const renderer = new THREE.WebGLRenderer({canvas: mainCanvas, alpha: true,antialias: true});
        renderer.setSize( 450, 450 );
        renderer.setClearColor( 0xffffff, 0);
        //document.body.appendChild( renderer.domElement );

        const geometry = new THREE.BoxGeometry();
        const material1 = new THREE.MeshBasicMaterial( { color: 0x3375FF } );
        const material2 = new THREE.MeshBasicMaterial( { color: 0x3396FF } );
        const material3 = new THREE.MeshBasicMaterial( { color: 0x33C3FF } );
        const cube = new THREE.Mesh( geometry, material1 );
        const cube2 = new THREE.Mesh( geometry, material2 );
        const cube3 = new THREE.Mesh( geometry, material3 );

        var geo = new THREE.EdgesGeometry( cube.geometry );
        var geo2 = new THREE.EdgesGeometry( cube2.geometry );
        var geo3 = new THREE.EdgesGeometry( cube2.geometry );
        
        var mat = new THREE.LineBasicMaterial( { color: 0x000000, linewidth: 5 } );
        var wireframe = new THREE.LineSegments( geo, mat );
        wireframe.renderOrder = 1; // make sure wireframes are rendered 2nd
        var wireframe2 = new THREE.LineSegments( geo2, mat );
        wireframe2.renderOrder = 1; // make sure wireframes are rendered 2nd
        
        var wireframe3 = new THREE.LineSegments( geo3, mat );
        wireframe3.renderOrder = 1; // make sure wireframes are rendered 2nd
        
        cube.add( wireframe);
        cube.scale.y = 0.3;

        cube2.add(wireframe2);

        cube3.add(wireframe3);

        cube.add(cube2);
        cube2.add(cube3);
        
        cube2.translateY(1.2);
        cube3.translateY(1.2);
        
        scene.add( cube );
        
        camera.position.z = 2;
        camera.position.x = 1;
        camera.position.y = 1;
        camera.lookAt(0,0,0);

        const animate = function () {
            requestAnimationFrame( animate );
            //cube.rotation.y +=0.005;
            renderer.render( scene, camera );
        };

        animate();
      </script>
      <script> // Config
        function toggleCloudMode(){
            if(document.getElementById("CloudModeSwitch").checked) ChangeMode("Working");
            else ChangeMode("Config");
            document.getElementById("CloudModeSwitch").checked = !document.getElementById("CloudModeSwitch").checked;
        }
        
        function ChangeMode(Mode) { // 'Working' | 'Config'
            var xmlhttp = new XMLHttpRequest();
            const url = "https://69c7mi9azh.execute-api.eu-west-1.amazonaws.com/ChangeMode?Mode=" + Mode;
            
            xmlhttp.onreadyfunctionstatechange = function (){
                console.log(this)
            }

            xmlhttp.open('GET', url, true);
            xmlhttp.send(); 
        }
        function GetMode(){
            var xmlhttp = new XMLHttpRequest();
            const url = 5;
            mode = "Config";
            switch(mode){// Negado
                case "Working":
                    return false;
                break;
                case "Config":
                    return true;
                break;
            }
        }
      </script>
  </body>
</body>
</html>
<!--<img src="exampleLayers.png" width="500" class="image">-->